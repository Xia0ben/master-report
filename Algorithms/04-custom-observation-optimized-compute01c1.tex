\begin{algorithm}[H]

  \caption{Optimized subroutine for computing $c_{0}$ and $c_{1}$ if $c_{1}$ is not already valid.}

  \label{alg:04-custom-observation-optimized-compute01c1}

  \begin{algorithmic}[1]

    \Procedure{OPT-COMPUTE-C0-C1}{$o$, $I$, $R$, $pushPose$, $c_{0}$, $c_{1}$}
      \State $c_{1} \gets \emptyset$
      \State $totalCost \gets +\infty$

      %   % The computation time could be reduced by computing the heuristic
      %   % euclidean cost from current position to obstacle only once and not
      %   % as many times as there are push poses for the obstacle.
      %   % This needs to be added to the calling method and euCostToObsL passed in parameter.
      % \If{$o.movableStatus = IS\_MAYBE\_MOVABLE$}
      %   \State $euCostToObsL \gets \emptyset$
      %   \For{each $obsPose$ in $o.obsPoses$}
      %     \State $euCostToObsL$.insert$(\{obsPose, |{R, obsPose}|\})$
      %   \EndFor
      %
      % \EndIf

      \State $euPosesCostL \gets \emptyset$ \Comment{Sort observation poses by ascending heuristic cost.}
      \For{each $obsPose$ in $o.obsPoses$}
        \State $euPosesCostL$.insert$(\{obsPose, |{R, obsPose}| + |{obsPose, pushPose}|\})$
      \EndFor

      \If{$euPosesCostL \neq \emptyset$}
        \State $op_{next} \gets euPosesCostL[0]$
        \While{$totalCost \geq op_{next}.cost$ AND $op_{next} \neq$ null}
          \State $o \gets A$*($R$, $op_{next}.obsPose$, $I$)
          \State $c \gets A$*($op_{next}.obsPose$, $pushPose$, $I$)
          \State $newTotalCost = |o| + |c|$
          \If{$newTotalCost < +\infty$ AND ($newTotalCost < totalCost$ OR ($newTotalCost = totalCost$ AND $|o| < |c_{0}|$)}
            \State $c_{0} = o$
            \State $c_{1} = c$
            \State $totalCost = |c_{0}| + |c_{1}|$
          \EndIf
          \State $op_{next} \gets euPosesCostL$.getNext()
        \EndWhile
      \EndIf
    \EndProcedure

  \end{algorithmic}
\end{algorithm}
