\begin{algorithm}[H]

  \caption{Optimized algorithm for NAMO in unknown environments of Wu et. al. adapted according to M.Levihn et. al.'s (2014) recommandations. \nameref{highlight_note}}

  \label{alg:namoue_augmented}

  \begin{algorithmic}[1]

      \Procedure{OPTIMIZED}{$R_{init}$, $R_{goal}$}

        \State \hlgreen{$R \gets R_{init}$}
        \State $euclideanCostL \gets \emptyset$ \Comment{\nameref{euclideanCostL_note}}
        \State $minCostL \gets \emptyset$ \Comment{\nameref{minCostL_note}}
        \State $p_{opt}.path \gets D$*Lite($R_{init}$, $R_{goal}$, $empty\_occupation\_grid$) \Comment{Calls to A* replaced by D*Lite.}

        \State \hlgreen{$p_{opt}.cost \gets |p_{opt}| * moveCost$}

        \While{\hlgreen{$R \neq R_{goal}$}}

        \State $G \gets $ GET-NEW-INFORMATION()

        \If{$G.freeSpaceCreated$} \Comment{\nameref{free_space_note}}
          \State $minCostL$.empty() \Comment{\nameref{underestimate_note}}
        \EndIf

        \State $\mathcal{O}_{new} \gets \mathcal{O}_{new} \bigcup G.$newObstacles()

          \If{\hlgreen{$p_{opt} \bigcap \mathcal{O}_{new} \neq \emptyset$}}

            \State $\mathcal{O} \gets \mathcal{O} \bigcup \mathcal{O}_{new}$

            \For{each $o \in \mathcal{O}$}
              \State $euclideanCostL$.insertOrUpdate$(\{o, |o.center - R.goal|\})$
            \EndFor

            \State $p_{opt}.path \gets D$*Lite($R$, $R_{goal}$, $G$)
            \State \hlgreen{$p_{opt}.cost \gets |p_{opt}| * moveCost$}

            \State $i_{e}, i_{m} \gets 0 , 0$ \Comment{\nameref{get_list_element_note}}

            \While{$\min(minCostL[i_{m}].minCost, euclideanCostL[i_{e}].c_{3_{est}}) < p_{opt}.cost$}
              \Comment{\nameref{list_traversal_note}}
              \If{$minCostL[i_{m}].minCost < euclideanCostL[i_{e}].c_{3_{est}}$} \Comment{\nameref{minCostL_priority_note}}
                \State $p \gets$ OPT-EVALUATE-ACTION($minCostL[i_{m}].obstacle$, $p_{opt}$, $G$, $R$, $R_{goal}$)
                \If{$p \neq$ null} \Comment{Check if a new path has been found.}
                  \State $minCostL.$insertOrUpdate$(\{minCostL[i_{m}].obstacle, p.minCost\})$
                  \State $i_{m} \gets i_{m} + 1$ \Comment{Point to $minCostL$'s next entry.}
                  \If{$p.cost < p_{opt}.cost$} \Comment{Replace current optimal plan if $p$ is better.}
                    \State $p_{opt} \gets p$
                  \EndIf
                \EndIf
              \Else
                \If{$minCostL$.contains($euclideanCostL[i_{e}].obstacle) = false$}
                \Comment{\nameref{postponing_note}}
                  \State $p \gets$ OPT-EVALUATE-ACTION($euclideanCostL[i_{e}].obstacle$, $p_{opt}$, $G$, $R$, $R_{goal}$)
                  \If{$p \neq$ null}
                    \State $minCostL.$insertOrUpdate$(\{euclideanCostL[i_{e}].obstacle, p.minCost\})$
                    \State $i_{m} \gets i_{m} + 1$
                    \If{$p.cost < p_{opt}.cost$}
                      \State $p_{opt} \gets p$
                    \EndIf
                  \EndIf
                \EndIf
              \EndIf
              \State $i_{e} \gets i_{e} + 1$ \Comment{The pointer $i_{e}$ is always incremented.}
            \EndWhile
            \State \hlgreen{$\mathcal{O}_{new} \gets \emptyset$}
          \EndIf
          \State \hlgreen{$R \gets$ Next step in $p_{opt}$} \Comment{If $p_{opt} =$ null, stop the robot and signal that it is blocked.}
        \EndWhile
    \EndProcedure

    \algstore{namoue_augmented}

  \end{algorithmic}
\end{algorithm}
